<html>
<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" type="text/css" href="app.css">
	<script src="http://d3js.org/d3.v4.min.js"></script>
	<script src="https://d3js.org/d3-color.v1.min.js"></script>
	<script src="https://d3js.org/d3-interpolate.v1.min.js"></script>
	<script src="https://d3js.org/d3-scale-chromatic.v1.min.js"></script>
    <script src="https://d3js.org/d3-quadtree.v1.min.js"></script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/stats.js/r14/Stats.min.js"></script>
    <script src="noframework.waypoints.min.js"></script>
    <title>Cincity</title>
  </head>
  <body>

    <div id="textContainer">
        <div class="para"> 
            <div class="headline">Introduction</div>
            <div class="paratext">
                As the internet becomes ubiquitous we are beginning to see the fruition of something that has its humble beginnings as USENET in the 80s; people from all walks of life are breaking barriers of the physical world and coming together on the internet to form large communities based on the ideas that resonate with them
                        <br><br><br>
While some of these communities are explicitly created for social interaction between members (such as Facebook and Twitter), we also see the emergence of passive communities that arise due to implicit relationships between its members which are defined by the members’ interactions with the service (such as Netflix and Spotify) 
<br><br><br>
Defining such relationships enables us to gain cultural insight into the community and the subject that it is centered about. For instance, users of a music streaming service can be grouped together based on the kind of music they like. The behavior of such a group could be used to document shifting trends of the musical genre they’re interested in, and to note the emergence and decline of subcultures. 
<br><br><br>
These insights are not only culturally significant, but also valuable from a business perspective. Movie/music streaming companies spend millions of dollars each year to acquire content. Can we build tools that help them to study their userbase and optimize their catalogue for operational costs?
            </div>
        </div>
        <div class="para"> 
            <div class="headline">The Dataset</div>
            <div class="paratext">
                MUBI is an online service that integrates a subscription video-on-demand service with a massive database. The service has a truly diverse selection of content from underground cult classics to Tarantino blockbusters that attracts cinephiles from all over the world. Its 8 million users have collectively rated and reviewed thousands of movies present in its database. 
<br><br><br>
In this blogpost we decided visualize this eclectic community of cinephiles. We wanted to build a visualization that would help us learn about the aesthetic taste of individuals behind this community, and reveal smaller cliques that are biased in favor of certain category of movies
<br><br><br>
But before we could build such a visualization we faced a challenge—How does one visually represent the relationship between thousands of users and the thousands of movies that they have rated? Lets take a look at a technique called t-SNE that can help us solve this problem.
            </div>
        </div>
        <div class="para"> 
            <div class="headline" id="helloThere">Introduction to t-SNEs</div>
            <div class="paratext">
                Data-Visualization designers use a number of techniques and tricks to visualize the difference between two datums in a dataset. Datum can be sized as larger/smaller geometrical shapes depending on a quantifiable dimension, and can be assigned a color from a set of colors to signify a label. <br><br>

                <table>
                    <tr>
                        <th>Type of Fruit</th>
                        <th>Weight</th> 
                        <th>Cost</th>
                        <th>Amount of Sugar per cup</th>

                    </tr>
                    <tr>
                        <td>Banana</td>
                        <td>0.3</td>
                        <td>1</td>
                        <td>17</td>
                    </tr>
                    <tr>
                        <td>Pineapple</td>
                        <td>1.9</td>
                        <td>4</td>
                        <td>9</td>
                    </tr>
                    <tr>
                        <td>Apple</td>
                        <td>0.4</td>
                        <td>5</td>
                        <td>9</td>
                    </tr>
                    <tr>
                        <td>Orange</td>
                        <td>0.4</td>
                        <td>2</td>
                        <td>23</td>
                    </tr>
                </table>


                For example, consider the graphic on the right which has 4 dimensions. Each of these 4 dimensions are visualized in different ways by using size, images and coordinates. What if we have a thousand dimensions that need to be visualized? Not only would a designer start running out of ways to visualize dimensions, the resulting visualization would probably be cognitively taxing to say the least.  <br><br>

This is where a t-SNE can help us. t-SNE (t-distributed stochastic neighbor embedding) is a machine learning algorithm developed by Geoffrey Hinton and Laurens van der Maaten which helps one to reduce the dimensionality of one’s data. It is popularly used to reduce high dimensionality data to a fewer number of dimensions, usually two or three, that enables one to draw scatterplots in which similar datum are placed in close proximity. 
            </div>
        </div>
        <div class="para"> 
            <div class="headline">Process</div>
            <div class="paratext">
                For the purpose of this blogpost we selected a subset of users who had rated at least 20 movies. An adjacency matrix can be constructed for this subset of users, where each row is a user and each column is a user’s rating for a particular movie. <br><br>

This matrix can be transposed to yield a matrix where each row represents a movie, and each column represents the various ratings for that movie. This is the matrix that will serve as our t-SNE’s input. <br><br>

Our t-SNE will reduce the number of dimensions to just two: which we will use as x-y coordinates for an interactive scatterplot.
            </div>
        </div>
        <div class="para"> 
            <div class="headline" id="guidedHandle">Guided tour</div>
            <div class="paratext" id="testthree">
                In this section we’ll give you a guided tour through some interesting trends that we can observe in our visualization. Somethings to keep in mind—our t-SNE only accepts movie ratings as an input. It is agnostic to meta data such genre and country of origin. 
            </div>
            <div class="paratext" id="testfour">
                There are some genres in the visualization that show strong clustering. Clusters of movies of the same genre or same country of origin usually indicates a subset of users affinity towards that particular type of movie. 
            </div>

            <div class="paratext" id="testfive">
                Since this is a dataset of cinephiles from all over the world, it is reasonable to expect that one could observe clusters of movies from different countries. Indeed,we observe many such clusters from countries with strong cinematic traditions such as Italy, Iran, India, Turkey and Japan. 
            </div>

            <div class="paratext" id="testsix">
                Sometimes clusters form around cinematic time periods. One such cluster of short black-and-white movies from the 1900s in quite apparent
            </div>

            <div class="paratext" id="testseven">
                There are some genres in the visualization that show strong clustering. Clusters of movies of the same genre or same country of origin usually indicates a subset of users affinity towards that particular type of movie. 
            </div>
        </div>
        <div class="para"> 
            <div class="headline">Example 3</div>
            <div class="paratext">
                The goal of the project was to create a playful interactive experience that was interesting to a technical and non-technical audience alike. While cookie-cutter libraries for t-SNE visualizations exist, none of them provide mechanics for such interactions. Further, an interactive visualization of this scale (29,000 nodes) requires optimizations that would otherwise slow a browser down. A majority of the code for this visualization was this made from the ground-up and can hopefully be open sourced in the near-future for the good of the community. Some highlights— i. Canvas was chosen over SVGs because of superior performance at scale ii. Dual canvases, one of them a hidden canvas that implements interactions (since events cannot be bound to pixels in a bitmap) iii. Semantic zooming that enables easy viewing at a low zoom level and more granular view at high zoom levels iv. Mouse interactions for each node that reveal something about the underlying data
            </div>
        </div>
    </div>

    <div id="canvasContainer">
        <canvas id="mainCanvas"></canvas>
        <div class="tooltip">
            <div class="tooltipContent">
                <div class="tooltipName"></div>
                <div class="tooltipYear"></div>
                <div class="tooltipDirector"></div>
                <div class="tooltipGenre"></div>
                <div class="tooltipAlert"></div>
            </div>
        </div>
    </div>

    <div id="demo">
        <div id="outerHUD">
            <input type="text" placeholder="Search for movie..." id="searchBar">
            <div id="HUD">
                <div id="movieinfo">
                    <div id="closebutton">&#x2716;</div>
                    <img id="movieImage"></img>
                    <div id="HUDcontainer">
                        <div class="HUDtextline">
                            <span id="movieTitle"></span>
                            <span id="movieYear"></span>
                            <span id="movieDirector"></span>
                        </div>
                        <div class="HUDtextline">
                            <span id="movieSynopsis"></span>
                        </div>
                        <div class="HUDtextline">
                            <div class="secondInfoLine">
                                <span id="movieTime"></span><span class="labelDesc"> min</span>
                                <span class="movieInfoLabel">Running time</span>
                            </div>
                            <div class="secondInfoLine">
                                <span id="movieGenre"></span>
                                <span class="movieInfoLabel">Genre</span>
                            </div>
                            <div class="secondInfoLine">
                                <img id="HUDflag"></img>
                                <span class="movieInfoLabel">Country of origin</span>
                            </div>
                        </div>
                        <div class="HUDtextline">
                            <div class="thirdInfoLine">
                                <span id="movieAverage"></span><span class="labelDesc"> /5</span>
                                <span class="movieInfoLabel">Average rating</span>
                            </div>
                            <div class="thirdInfoLine">
                                <span id="movieTotal"></span>
                                <span class="movieInfoLabel">Total ratings</span>
                            </div>
                        </div>
                    </div>
                </div>
                <div id="HUDcontent">
                </div>
            </div>
        </div>
        
        
        <div id="labelButtonContainer">
            <div class="labelButton" selected="true">Action</div>
            <div class="labelButton" selected="true">Adventure</div>
            <div class="labelButton" selected="true">Animation</div>
            <div class="labelButton" selected="false">Anthology</div>
            <div class="labelButton" selected="true">Avant-Garde</div>
            <div class="labelButton" selected="false">Biography</div>
            <div class="labelButton" selected="false">Comedy</div>
            <div class="labelButton" selected="false">Commercial</div>
            <div class="labelButton" selected="true">Crime</div>
            <div class="labelButton" selected="false">Cult</div>
            <div class="labelButton" selected="true">Documentary</div>
            <div class="labelButton" selected="false">Drama</div>
            <div class="labelButton" selected="false">Erotica</div>
            <div class="labelButton" selected="false">Fantasy</div>
            <div class="labelButton" selected="false">Family</div>
            <div class="labelButton" selected="false">Film noir</div>
            <div class="labelButton" selected="false">Gay & Lesbian</div>
            <div class="labelButton" selected="false">History</div>
            <div class="labelButton" selected="false">Horror</div>
            <div class="labelButton" selected="false">Music</div>
            <div class="labelButton" selected="false">Musical</div>
            <div class="labelButton" selected="true">Music Video</div>
            <div class="labelButton" selected="false">Mystery</div>
            <div class="labelButton" selected="true">Romance</div>
            <div class="labelButton" selected="false">Sci-Fi</div>
            <div class="labelButton" selected="true">Short</div>
            <div class="labelButton" selected="false">Silent</div>
            <div class="labelButton" selected="false">Sport</div>
            <div class="labelButton" selected="true">Thriller</div>
            <div class="labelButton" selected="false">TV Mini-series</div>
            <div class="labelButton" selected="false">TV Movie</div>
            <div class="labelButton" selected="false">War</div>
            <div class="labelButton" selected="false">Western</div>
        </div>
        <form>
            <div class="checkboxContainer">
                <input type="checkbox" id="hideUnlabeled" checked>Only show selected genres</input>
            </div>
            <div class="checkboxContainer">
                <input type="checkbox" id="showCountries">Show country flags</input>
            </div>
        </form>
    </div>

    <div class="para"> 
            <div class="headline">Test two</div>
            <div class="paratext">
                Whose woods these are I think I know. <br>  
                His house is in the village though;   <br>
                He will not see me stopping here   <br>
                To watch his woods fill up with snow.  <br> 
                <br>
                My little horse must think it queer   <br>
                To stop without a farmhouse near   <br>
                Between the woods and frozen lake   <br>
                The darkest evening of the year.   <br>

                He gives his harness bells a shake   <br>
                To ask if there is some mistake.   <br>
                The only other sound’s the sweep   <br>
                Of easy wind and downy flake.   <br>

                The woods are lovely, dark and deep, <br>   
                But I have promises to keep,   <br>
                And miles to go before I sleep,   <br>
                And miles to go before I sleep.<br>
            </div>
        </div>

    <script type="text/javascript" src="ListNode.js"></script> 
    <script type="text/javascript" src="movieObject.js"></script>  
    <script type="text/javascript" src="movieList.js"></script> 
    <script type="text/javascript" src="cincity.js"></script>  
    <script type="text/javascript" src="interface.js"></script>
  </body>
</html>